<template>
    <div class="mainPage">
        <div class="contentDiv">
            <div class="col_656565 fon_16">
                栖霞市土壤检测结果分析
            </div>
            <el-row>
                <el-col :span="6" v-for="(item,index) in eles" :key="index">
                    <chart :chart-data="chartData[index]" :x-data="xData" :ele="item" />
                </el-col>
            </el-row>
            <el-row>
                <el-col :span="6" v-for="(item,index) in eles" :key="index">
                    <boxplot :chart-data="chartData[index]" :x-data="xData" :ele="item" />
                </el-col>
            </el-row>
        </div>
    </div>
</template>
<script>
import { batchList } from '@/api/collect.js'
import Pagination from '@/components/Pagination'
import Chart from '@/components/HighChart/bar'
import boxplot from '@/components/HighChart/boxplot'
export default {
    components: {
        Pagination, Chart, boxplot
    },
    data() {
        return {
            order_prop: '',
            order: '',
            eles: 'organic,ph,tn,tn'.split(','), //,ep,rk,efe,emn,ezn,ecu'.split(','),
            chartData: [["13.860000 22.290000","13.970000 22.080000","13.840000 21.520000","13.730000 22.100000","13.590000 21.550000","13.600000 21.580000"],["5.750000 6.110000","5.660000 6.110000","4.700000 5.860000","5.000000 6.290000","5.290000 6.290000","4.920000 6.110000"],["1.100000 1.220000","1.030000 1.150000","1.000000 1.100000","0.980000 1.120000","0.860000 1.020000","0.800000 1.070000"],["36.900000 43.500000","35.750000 40.900000","21.950000 30.110000","23.950000 32.700000","23.070000 26.000000","13.100000 17.590000"],["80.330000 120.670000","73.500000 108.000000","65.330000 98.670000","54.330000 79.000000","35.500000 49.330000","27.190000 42.890000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","22.000000 31.730000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","37.170000 42.170000"],["0.000000 0","0.000000 0","0.000000 0","0.000000 0","0.000000 0","0.410000 1"],["0.000000 0","0.000000 0","0.000000 0","0.000000 0","0.000000 0","1.750000 2"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","5.130000 5.030000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.090000 0.100000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","4.210000 5.370000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","29.830000 31.100000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","4.010000 4.330000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.330000 0.390000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","42.810000 45.820000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","30.040000 36.020000"],["0.000000 0","0.000000 0","0.000000 0","0.000000 0","0.000000 0","12.770000 10"],["0.000000","0.000000","0.000000","0.000000","0.000000","1.410000"],["0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","0.000000 0.000000","1.420000 1.340000"]],
            xData: ["2019-05","2019-06","2019-07","2019-08","2019-09","2019-10"],
            tableData: [],
            page: 1,
            pageSize: 10,
            totalPage: 0
        }
    },
    mounted() {
        this.getBatchList()
    },
    methods: {
        // 排序监听  实现排序功能
        sortChange(e) {
            this.order_prop = e.prop
            this.order = e.order === 'ascending' ? 'asc' : 'desc'
            this.getBatchList()
        },
        // 获取批次列表
        async getBatchList() {
            let res = await batchList({
                start: this.page - 1,
                page_rows: this.pageSize,
                order_prop: this.order_prop,
                order: this.order
            })
            this.tableData = res.data
            this.totalPage = res.count
        },
        headerCellStyle() {
            return 'color:#333333;'
        },
        toPage(url) {
            this.$router.push(url)
        }
    }
}
</script>
<style lang="scss" scoped>
.maxHigh {
    min-height: calc(100vh - 60px);
}

.item {
    margin-top: 10px;
    margin-right: 10px;
}
</style>